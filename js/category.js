const searchbar=document.querySelector("#searchbar"),cathide=document.querySelector(".cathide"),headlineca=document.querySelector(".headlineCa"),main=document.querySelector(".main");let g=location.search,cats=["Physics","Kids","Brain","Boys","Highscore","Endless Runner","Christmas","Avoid","Animals","Arcade","Matching","Cars","Card","Timing","Platformer","Skill","Simulation","Adventure","Zombie","Puzzle","Bubble Shooter","Educational","Cooking","Action","Fun","Family","Cartoon","Basketball","Football","Driving","Sports","Cute","Painting","Strategy","Box2D","Halloween","Tower Defense","Surgery","Celebrity","Mahjong","Princess","Dress Up","Doll","Decorating","Makeover","Make Up","Brai","Cognitive","Hidden Objects","Shooting","Rapunzel","Avoi","Angela","Winx","Minions","Avo","Sofia","Cut","Wedding","Love","Job","Baby","Pou","Monster high","Animal","Dog","Barbie","Pregnant"];async function searchupdater(e){const t=await fetch("/games.json"),a=(await t.json()).filter(t=>t.title.toUpperCase().includes(e.toUpperCase()));main.innerHTML=await a.map(creator).join("\n")}async function catupdater(){document.querySelector(".blr").style.filter="blur(8px)",await catupdate(),document.querySelector(".blr").style.filter="none"}function search(e){var t=e.tags.split(",");for(let e=0;e<t.length;e++)if(g.split("=")[1].toUpperCase()==t[e].toUpperCase())return!0}async function tagupdate(){const e=await fetch("/games.json"),t=(await e.json()).filter(search).slice(0,44);main.innerHTML=await t.map(creator).join("\n"),scrolling(),console.log("tagupdate done")}async function catupdate(){const e=await fetch("/games.json"),t=(await e.json()).filter(e=>e.category==g.split("=")[1]).slice(0,44);main.innerHTML=t.map(creator).join("\n"),scrolling(),console.log("catupdate done")}function creator(e){return`<div class=box>\n    <img src=${e.thumb} alt=${e.title}_logo>\n    <h2>${e.title}</h2><hr>\n    <p>category :</p><a class=category href="/pages/category.html?cat=${e.category}">${e.category}</a><br>\n    <a href=/pages/play.html?s=${e.link}>Play</a>\n    </div>`}function scrolling(){headlineca.scrollIntoView({block:"start",behavior:"smooth"})}document.querySelector(".catbox").innerHTML=cats.map(e=>`<a class="cata" href=?tag=${e}>${e}</a>`),window.addEventListener("load",()=>{""==g&&(cathide.style.display="none"),"?cat"==g.split("=")[0]&&catupdater(),"?tag"==g.split("=")[0]&&async function(){document.querySelector(".blr").style.filter="blur(8px)",await tagupdate(),document.querySelector(".blr").style.filter="none"}(),document.querySelector(".js-nav").addEventListener("click",()=>{document.querySelector("ul").classList.toggle("slide")}),searchbar.addEventListener("keyup",e=>{const t=e.target.value;cathide.style.display="contents",""==e.target.value&&(cathide.style.display="none"),searchupdater(t)})});